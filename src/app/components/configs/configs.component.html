<app-breadcrumb [names]="['applications',appName,'version 2']"
                [paths]="['/applications','/applications/'+appName]"></app-breadcrumb>
<h2 class="ui header">
  <i class="settings icon"></i>
  <div class="content">
    <a [routerLink]="['../']">{{appName}}</a>
    <div class="sub header">version: {{version}}</div>
  </div>
</h2>
<h3>Configurations</h3>
<div class="ui attached menu">
  <div class="ui search item">
    <div class="ui transparent icon input">
      <input class="filter" type="text" placeholder="Search property..." [(ngModel)]="filterProp">
      <input class="filter" type="text" placeholder="Search value..." [(ngModel)]="filterValue">
      <i class="search link icon"></i>
    </div>
  </div>
  <div class="right item" style="padding: 5px;">
    <div class="ui form">
      <div class="inline fields" style="margin: 0px;">
        <div class="field">
          <input type="text" placeholder="Property" [(ngModel)]="newProp">
        </div>
        <div class="field">
          <input type="text" placeholder="Value" [(ngModel)]="newValue">
        </div>
        <div class="field">
          <div class="ui green icon button" (click)="addProperty()">
            <i class="add icon"></i>
            Add Property
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="ui attached segment">
  <div class="ui form">
    <table class="ui compact celled definition table">
      <thead class="full-width">
      <tr>
        <th></th>
        <th>Property</th>
        <th>Value</th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <tr app-config *ngFor="let config of configs | keys | filterBy:{key:filterProp}| filterBy:{value:filterValue}"
          [config]="config"
          (edited)="refresh()"
          (deleted)="refresh()"
          (selected)="selConfig($event)"></tr>
      </tbody>
      <tfoot class="full-width">
      <tr>
        <th></th>
        <th colspan="3">
          <div class="ui small icon red button" [ngClass]="{disabled: configSelected.size==0}"
               (click)="deleteSelected()">
            <i class="ui trash icon "></i>
            Delete selected ({{configSelected.size}})
          </div>
        </th>
      </tr>
      </tfoot>
    </table>
  </div>
</div>
